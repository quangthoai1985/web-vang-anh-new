import{p as z,v as O,t as C,E as F}from"./index-CSaZZzfe.es-Q4IY_rj9.js";function B(r,n,e,c){const u=e.enter("blockquote"),s=e.createTracker(c);s.move("> "),s.shift(2);const o=e.indentLines(e.containerFlow(r,s.current()),$);return u(),o}function $(r,n,e){return">"+(e?"":" ")+r}function q(r,n){return b(r,n.inConstruct,!0)&&!b(r,n.notInConstruct,!1)}function b(r,n,e){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return e;let c=-1;for(;++c<n.length;)if(r.includes(n[c]))return!0;return!1}function g(r,n,e,c){let u=-1;for(;++u<e.unsafe.length;)if(e.unsafe[u].character===`
`&&q(e.stack,e.unsafe[u]))return/[ \t]/.test(c.before)?"":" ";return`\\
`}function M(r,n){const e=String(r);let c=e.indexOf(n),u=c,s=0,o=0;if(typeof n!="string")throw new TypeError("Expected substring");for(;c!==-1;)c===u?++s>o&&(o=s):s=1,u=c+n.length,c=e.indexOf(n,u);return o}function Q(r,n){return!!(n.options.fences===!1&&r.value&&!r.lang&&/[^ \r\n]/.test(r.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(r.value))}function U(r){const n=r.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}function H(r,n,e,c){const u=U(e),s=r.value||"",o=u==="`"?"GraveAccent":"Tilde";if(Q(r,e)){const a=e.enter("codeIndented"),h=e.indentLines(s,K);return a(),h}const l=e.createTracker(c),t=u.repeat(Math.max(M(s,u)+1,3)),i=e.enter("codeFenced");let f=l.move(t);if(r.lang){const a=e.enter(`codeFencedLang${o}`);f+=l.move(e.safe(r.lang,{before:f,after:" ",encode:["`"],...l.current()})),a()}if(r.lang&&r.meta){const a=e.enter(`codeFencedMeta${o}`);f+=l.move(" "),f+=l.move(e.safe(r.meta,{before:f,after:`
`,encode:["`"],...l.current()})),a()}return f+=l.move(`
`),s&&(f+=l.move(s+`
`)),f+=l.move(t),i(),f}function K(r,n,e){return(e?"":"    ")+r}function v(r){const n=r.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}function W(r,n,e,c){const u=v(e),s=u==='"'?"Quote":"Apostrophe",o=e.enter("definition");let l=e.enter("label");const t=e.createTracker(c);let i=t.move("[");return i+=t.move(e.safe(e.associationId(r),{before:i,after:"]",...t.current()})),i+=t.move("]: "),l(),!r.url||/[\0- \u007F]/.test(r.url)?(l=e.enter("destinationLiteral"),i+=t.move("<"),i+=t.move(e.safe(r.url,{before:i,after:">",...t.current()})),i+=t.move(">")):(l=e.enter("destinationRaw"),i+=t.move(e.safe(r.url,{before:i,after:r.title?" ":`
`,...t.current()}))),l(),r.title&&(l=e.enter(`title${s}`),i+=t.move(" "+u),i+=t.move(e.safe(r.title,{before:i,after:u,...t.current()})),i+=t.move(u),l()),o(),i}function Z(r){const n=r.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}function p(r){return"&#x"+r.toString(16).toUpperCase()+";"}const ve=d(/[A-Za-z]/),xe=d(/[\dA-Za-z]/);function be(r){return r!==null&&(r<32||r===127)}function ge(r){return r!==null&&r<-2}function j(r){return r!==null&&(r<0||r===32)}function we(r){return r===-2||r===-1||r===32}const D=d(new RegExp("\\p{P}|\\p{S}","u")),G=d(/\s/);function d(r){return n;function n(e){return e!==null&&e>-1&&r.test(String.fromCharCode(e))}}function w(r){if(r===null||j(r)||G(r))return 1;if(D(r))return 2}function k(r,n,e){const c=w(r),u=w(n);return c===void 0?u===void 0?e==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:u===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:c===1?u===void 0?{inside:!1,outside:!1}:u===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:u===void 0?{inside:!1,outside:!1}:u===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}_.peek=X;function _(r,n,e,c){const u=Z(e),s=e.enter("emphasis"),o=e.createTracker(c),l=o.move(u);let t=o.move(e.containerPhrasing(r,{after:u,before:l,...o.current()}));const i=t.charCodeAt(0),f=k(c.before.charCodeAt(c.before.length-1),i,u);f.inside&&(t=p(i)+t.slice(1));const a=t.charCodeAt(t.length-1),h=k(c.after.charCodeAt(0),a,u);h.inside&&(t=t.slice(0,-1)+p(a));const m=o.move(u);return s(),e.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},l+t+m}function X(r,n,e){return e.options.emphasis||"*"}function J(r,n){let e=!1;return O(r,function(c){if("value"in c&&/\r?\n|\r/.test(c.value)||c.type==="break")return e=!0,F}),!!((!r.depth||r.depth<3)&&C(r)&&(n.options.setext||e))}function N(r,n,e,c){const u=Math.max(Math.min(6,r.depth||1),1),s=e.createTracker(c);if(J(r,e)){const f=e.enter("headingSetext"),a=e.enter("phrasing"),h=e.containerPhrasing(r,{...s.current(),before:`
`,after:`
`});return a(),f(),h+`
`+(u===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(u),l=e.enter("headingAtx"),t=e.enter("phrasing");s.move(o+" ");let i=e.containerPhrasing(r,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(i)&&(i=p(i.charCodeAt(0))+i.slice(1)),i=i?o+" "+i:o,e.options.closeAtx&&(i+=" "+o),t(),l(),i}I.peek=V;function I(r){return r.value||""}function V(){return"<"}A.peek=Y;function A(r,n,e,c){const u=v(e),s=u==='"'?"Quote":"Apostrophe",o=e.enter("image");let l=e.enter("label");const t=e.createTracker(c);let i=t.move("![");return i+=t.move(e.safe(r.alt,{before:i,after:"]",...t.current()})),i+=t.move("]("),l(),!r.url&&r.title||/[\0- \u007F]/.test(r.url)?(l=e.enter("destinationLiteral"),i+=t.move("<"),i+=t.move(e.safe(r.url,{before:i,after:">",...t.current()})),i+=t.move(">")):(l=e.enter("destinationRaw"),i+=t.move(e.safe(r.url,{before:i,after:r.title?" ":")",...t.current()}))),l(),r.title&&(l=e.enter(`title${s}`),i+=t.move(" "+u),i+=t.move(e.safe(r.title,{before:i,after:u,...t.current()})),i+=t.move(u),l()),i+=t.move(")"),o(),i}function Y(){return"!"}S.peek=ee;function S(r,n,e,c){const u=r.referenceType,s=e.enter("imageReference");let o=e.enter("label");const l=e.createTracker(c);let t=l.move("![");const i=e.safe(r.alt,{before:t,after:"]",...l.current()});t+=l.move(i+"]["),o();const f=e.stack;e.stack=[],o=e.enter("reference");const a=e.safe(e.associationId(r),{before:t,after:"]",...l.current()});return o(),e.stack=f,s(),u==="full"||!i||i!==a?t+=l.move(a+"]"):u==="shortcut"?t=t.slice(0,-1):t+=l.move("]"),t}function ee(){return"!"}E.peek=re;function E(r,n,e){let c=r.value||"",u="`",s=-1;for(;new RegExp("(^|[^`])"+u+"([^`]|$)").test(c);)u+="`";for(/[^ \r\n]/.test(c)&&(/^[ \r\n]/.test(c)&&/[ \r\n]$/.test(c)||/^`|`$/.test(c))&&(c=" "+c+" ");++s<e.unsafe.length;){const o=e.unsafe[s],l=e.compilePattern(o);let t;if(o.atBreak)for(;t=l.exec(c);){let i=t.index;c.charCodeAt(i)===10&&c.charCodeAt(i-1)===13&&i--,c=c.slice(0,i)+" "+c.slice(t.index+1)}}return u+c+u}function re(){return"`"}function P(r,n){const e=C(r);return!!(!n.options.resourceLink&&r.url&&!r.title&&r.children&&r.children.length===1&&r.children[0].type==="text"&&(e===r.url||"mailto:"+e===r.url)&&/^[a-z][a-z+.-]+:/i.test(r.url)&&!/[\0- <>\u007F]/.test(r.url))}T.peek=ne;function T(r,n,e,c){const u=v(e),s=u==='"'?"Quote":"Apostrophe",o=e.createTracker(c);let l,t;if(P(r,e)){const f=e.stack;e.stack=[],l=e.enter("autolink");let a=o.move("<");return a+=o.move(e.containerPhrasing(r,{before:a,after:">",...o.current()})),a+=o.move(">"),l(),e.stack=f,a}l=e.enter("link"),t=e.enter("label");let i=o.move("[");return i+=o.move(e.containerPhrasing(r,{before:i,after:"](",...o.current()})),i+=o.move("]("),t(),!r.url&&r.title||/[\0- \u007F]/.test(r.url)?(t=e.enter("destinationLiteral"),i+=o.move("<"),i+=o.move(e.safe(r.url,{before:i,after:">",...o.current()})),i+=o.move(">")):(t=e.enter("destinationRaw"),i+=o.move(e.safe(r.url,{before:i,after:r.title?" ":")",...o.current()}))),t(),r.title&&(t=e.enter(`title${s}`),i+=o.move(" "+u),i+=o.move(e.safe(r.title,{before:i,after:u,...o.current()})),i+=o.move(u),t()),i+=o.move(")"),l(),i}function ne(r,n,e){return P(r,e)?"<":"["}L.peek=te;function L(r,n,e,c){const u=r.referenceType,s=e.enter("linkReference");let o=e.enter("label");const l=e.createTracker(c);let t=l.move("[");const i=e.containerPhrasing(r,{before:t,after:"]",...l.current()});t+=l.move(i+"]["),o();const f=e.stack;e.stack=[],o=e.enter("reference");const a=e.safe(e.associationId(r),{before:t,after:"]",...l.current()});return o(),e.stack=f,s(),u==="full"||!i||i!==a?t+=l.move(a+"]"):u==="shortcut"?t=t.slice(0,-1):t+=l.move("]"),t}function te(){return"["}function x(r){const n=r.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function ie(r){const n=x(r),e=r.options.bulletOther;if(!e)return n==="*"?"-":"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(e===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+e+"`) to be different");return e}function oe(r){const n=r.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}function y(r){const n=r.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}function ce(r,n,e,c){const u=e.enter("list"),s=e.bulletCurrent;let o=r.ordered?oe(e):x(e);const l=r.ordered?o==="."?")":".":ie(e);let t=n&&e.bulletLastUsed?o===e.bulletLastUsed:!1;if(!r.ordered){const f=r.children?r.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&e.stack[e.stack.length-1]==="list"&&e.stack[e.stack.length-2]==="listItem"&&e.stack[e.stack.length-3]==="list"&&e.stack[e.stack.length-4]==="listItem"&&e.indexStack[e.indexStack.length-1]===0&&e.indexStack[e.indexStack.length-2]===0&&e.indexStack[e.indexStack.length-3]===0&&(t=!0),y(e)===o&&f){let a=-1;for(;++a<r.children.length;){const h=r.children[a];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){t=!0;break}}}}t&&(o=l),e.bulletCurrent=o;const i=e.containerFlow(r,c);return e.bulletLastUsed=o,e.bulletCurrent=s,u(),i}function ue(r){const n=r.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function le(r,n,e,c){const u=ue(e);let s=e.bulletCurrent||x(e);n&&n.type==="list"&&n.ordered&&(s=(typeof n.start=="number"&&n.start>-1?n.start:1)+(e.options.incrementListMarker===!1?0:n.children.indexOf(r))+s);let o=s.length+1;(u==="tab"||u==="mixed"&&(n&&n.type==="list"&&n.spread||r.spread))&&(o=Math.ceil(o/4)*4);const l=e.createTracker(c);l.move(s+" ".repeat(o-s.length)),l.shift(o);const t=e.enter("listItem"),i=e.indentLines(e.containerFlow(r,l.current()),f);return t(),i;function f(a,h,m){return h?(m?"":" ".repeat(o))+a:(m?s:s+" ".repeat(o-s.length))+a}}function se(r,n,e,c){const u=e.enter("paragraph"),s=e.enter("phrasing"),o=e.containerPhrasing(r,c);return s(),u(),o}function fe(r,n,e,c){return(r.children.some(function(o){return z(o)})?e.containerPhrasing:e.containerFlow).call(e,r,c)}function ae(r){const n=r.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}R.peek=he;function R(r,n,e,c){const u=ae(e),s=e.enter("strong"),o=e.createTracker(c),l=o.move(u+u);let t=o.move(e.containerPhrasing(r,{after:u,before:l,...o.current()}));const i=t.charCodeAt(0),f=k(c.before.charCodeAt(c.before.length-1),i,u);f.inside&&(t=p(i)+t.slice(1));const a=t.charCodeAt(t.length-1),h=k(c.after.charCodeAt(0),a,u);h.inside&&(t=t.slice(0,-1)+p(a));const m=o.move(u+u);return s(),e.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},l+t+m}function he(r,n,e){return e.options.strong||"*"}function me(r,n,e,c){return e.safe(r.value,c)}function pe(r){const n=r.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}function ke(r,n,e){const c=(y(e)+(e.options.ruleSpaces?" ":"")).repeat(pe(e));return e.options.ruleSpaces?c.slice(0,-1):c}const Ce={blockquote:B,break:g,code:H,definition:W,emphasis:_,hardBreak:g,heading:N,html:I,image:A,imageReference:S,inlineCode:E,link:T,linkReference:L,list:ce,listItem:le,paragraph:se,root:fe,strong:R,text:me,thematicBreak:ke};export{J as a,ge as b,w as c,we as d,p as e,Q as f,D as g,Ce as h,xe as i,ve as j,be as k,j as m,q as p,G as u};
